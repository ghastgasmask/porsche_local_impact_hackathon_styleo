<!doctype html>
<html lang="en">
<head>
    <link rel="icon" href="images/Logo.jpeg" type="image">

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Styleo • Promo Codes</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Montserrat:wght@600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>

<body class="page-feature">
<div class="dash">

  <!-- GLOBAL HEADER -->
  <header class="dash-header dash-header--nav">
    <div class="dash-left">
      <img class="dash-logo" src="images/Logo.jpeg" alt="Styleo Logo" />
      <span class="dash-brand">Styleo</span>
    </div>

    <nav class="top-nav" aria-label="Feature navigation">
      <a class="top-nav__link" data-route="dashboard.html" href="dashboard.html">Dashboard</a>
      <a class="top-nav__link" data-route="clothes-search.html" href="clothes-search.html">Clothes Search</a>
      <a class="top-nav__link" data-route="outfit-builder.html" href="outfit-builder.html">Outfit Builder</a>
      <a class="top-nav__link" data-route="promo-codes.html" href="promo-codes.html" aria-current="page">Promo Codes</a>
      <a class="top-nav__link" data-route="wardrobe.html" href="wardrobe.html">Wardrobe</a>
      <a class="top-nav__link" data-route="model-3d.html" href="model-3d.html">3D Model</a>
      <a class="top-nav__link" data-route="ai-stylist.html" href="ai-stylist.html">AI Stylist</a>
      <a class="top-nav__link" data-route="trends.html" href="trends.html">Trends</a>
      <a class="top-nav__link" data-route="support.html" href="support.html">Support</a>
    </nav>

    <div class="dash-right">
      <span class="dash-user" id="username">@user</span>
    </div>
  </header>

  <main class="feature-shell">
    <h1 class="feature-title feature-title--center">Promocode Finder</h1>

    <section class="pc-grid" aria-label="Promo code finder layout">

      <!-- Online stores -->
      <section class="pc-card" aria-label="Online stores">
        <div class="pc-head">
          <h2 class="pc-title">Online stores</h2>
          <span class="pc-badge">tap store → see codes</span>
        </div>

        <div class="pc-accordion">

          <details class="pc-item">
            <summary class="pc-sum">
              <span>Wildberries</span>
              <span class="pc-plus">+</span>
            </summary>
            <div class="pc-panel">
              <div class="pc-code">
                <span class="pc-code__name">WB10</span>
                <span class="pc-code__desc">10% off selected items</span>
                <button class="pc-copy" type="button" data-copy="WB10">Copy</button>
              </div>
              <div class="pc-code">
                <span class="pc-code__name">FREESHIP</span>
                <span class="pc-code__desc">Free delivery (min. order)</span>
                <button class="pc-copy" type="button" data-copy="FREESHIP">Copy</button>
              </div>
            </div>
          </details>

          <details class="pc-item">
            <summary class="pc-sum">
              <span>Express</span>
              <span class="pc-plus">+</span>
            </summary>
            <div class="pc-panel">
              <div class="pc-code">
                <span class="pc-code__name">EXP15</span>
                <span class="pc-code__desc">15% for first purchase</span>
                <button class="pc-copy" type="button" data-copy="EXP15">Copy</button>
              </div>
            </div>
          </details>

          <details class="pc-item">
            <summary class="pc-sum">
              <span>StockX</span>
              <span class="pc-plus">+</span>
            </summary>
            <div class="pc-panel">
              <div class="pc-code">
                <span class="pc-code__name">STOCKX5</span>
                <span class="pc-code__desc">5% off marketplace fees</span>
                <button class="pc-copy" type="button" data-copy="STOCKX5">Copy</button>
              </div>
            </div>
          </details>

        </div>
      </section>

      <!-- Offline stores -->
      <section class="pc-card" aria-label="Offline stores">
        <div class="pc-head">
          <h2 class="pc-title">Offline stores</h2>
          <span class="pc-badge">tap store → see offers</span>
        </div>

        <div class="pc-accordion">

          <details class="pc-item">
            <summary class="pc-sum">
              <span>Zara</span>
              <span class="pc-plus">+</span>
            </summary>
            <div class="pc-panel">
              <div class="pc-code">
                <span class="pc-code__name">ZARA-KZ</span>
                <span class="pc-code__desc">In-store promo (check cashier)</span>
                <button class="pc-copy" type="button" data-copy="ZARA-KZ">Copy</button>
              </div>
            </div>
          </details>

          <details class="pc-item">
            <summary class="pc-sum">
              <span>Nike</span>
              <span class="pc-plus">+</span>
            </summary>
            <div class="pc-panel">
              <div class="pc-code">
                <span class="pc-code__name">NIKE-MEMBER</span>
                <span class="pc-code__desc">Member discount (store)</span>
                <button class="pc-copy" type="button" data-copy="NIKE-MEMBER">Copy</button>
              </div>
            </div>
          </details>

          <details class="pc-item">
            <summary class="pc-sum">
              <span>Adidas</span>
              <span class="pc-plus">+</span>
            </summary>
            <div class="pc-panel">
              <div class="pc-code">
                <span class="pc-code__name">ADI-EXTRA</span>
                <span class="pc-code__desc">Extra % on selected categories</span>
                <button class="pc-copy" type="button" data-copy="ADI-EXTRA">Copy</button>
              </div>
            </div>
          </details>

        </div>
      </section>

    </section>
  </main>

  <!-- Support -->
  <a class="support-fab keep-user" href="support.html" aria-label="Support">
    <span class="support-fab__dot">?</span>
    <span class="support-fab__text">Support</span>
  </a>

</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const params = new URLSearchParams(window.location.search);
  const user = params.get("user") || "";

  const el = document.getElementById("username");
  if (el && user) el.textContent = "@" + user;

  // keep user param everywhere
  if (user) {
    document.querySelectorAll("a[data-route], a.keep-user").forEach(a => {
      const url = new URL(a.getAttribute("href"), window.location.origin);
      url.searchParams.set("user", user);
      a.setAttribute("href", url.pathname + "?" + url.searchParams.toString());
    });
  }

  // copy buttons
  document.querySelectorAll(".pc-copy").forEach(btn => {
    btn.addEventListener("click", async () => {
      const code = btn.getAttribute("data-copy") || "";
      try{
        await navigator.clipboard.writeText(code);
        btn.textContent = "Copied";
        setTimeout(()=> btn.textContent = "Copy", 900);
      }catch(e){
        // fallback
        alert("Copy this code: " + code);
      }
    });
  });

  // (optional) only one open per column
  document.querySelectorAll(".pc-card").forEach(card => {
    card.querySelectorAll("details").forEach(d => {
      d.addEventListener("toggle", () => {
        if (!d.open) return;
        card.querySelectorAll("details").forEach(other => {
          if (other !== d) other.open = false;
        });
      });
    });
  });
});
</script>

</body>
</html>